<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>

	<script>
		window.onload=function(){

			var oUl1 = document.getElementById('ul1');
			var oUl2 = document.getElementById('ul2');
			var aLi = getElementsByClassName(document,'p','box');
			alert(aLi.length);
			console.log(aLi);

			for(var i=0;i<aLi.length;i++){
				aLi[i].style.background="red";
			}

			function getElementsByClassName(parent,tagName,className){
				var ali = document.getElementsByTagName('p');
				var arr = [];
				for(var i=0;i<ali.length;i++){
					/*if(ali[i].className==className){
						arr.push(ali[i]);
					}*/
					var aClassName = ali[i].className.split(' ');
					for(var j=0;j<aClassName.length;j++){
						if(aClassName[j]==className){
							arr.push(ali[i]);
							break;//防止一个className里面有多个相同的class值
						}
					}
				}
				return arr;
			}
		}
	</script>
</head>
<body>
	<ul id="ul1">
		<li class="box box">111111</li>
		<li class="box">222222</li>
		<li class="box box1">333333</li>
		<li>444444</li>
	</ul>
	<ul id="ul2">
		<li class="box box">111111</li>
		<li class="box">222222</li>
		<li class="box box1">333333</li>
		<li>444444</li>
	</ul>
	<p class="box">pppppppp</p>
</body>
</html>